Problems
Manage problems and comments



GET
/problems
Lists problems observed within the specified timeframe


Api-Token:
Required scope: problems.read
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
fields
string
(query)
A list of additional problem properties you can add to the response.

The following properties are available (all other properties are always included and you can't remove them from the response):

evidenceDetails: The details of the root cause.
impactAnalysis: The impact analysis of the problem on other entities/users.
recentComments: A list of the most recent comments to the problem.
To add properties, specify them as a comma-separated list (for example, evidenceDetails,impactAnalysis).

The field is valid only for the current page of results. You must set it for each page you're requesting.

fields
nextPageKey
string
(query)
The cursor for the next page of results. You can find it in the nextPageKey field of the previous response.

The first page is always returned if you don't specify the nextPageKey query parameter.

When the nextPageKey is set to obtain subsequent pages, you must omit all other query parameters except the optional fields parameter.

nextPageKey
pageSize
integer($int64)
(query)
The amount of problems in a single response payload.

The maximal allowed page size is 500.

If not set, 50 is used.

pageSize
from
string
(query)
The start of the requested timeframe.

You can use one of the following formats:

Timestamp in UTC milliseconds.
Human-readable format of 2021-01-25T05:57:01.123+01:00. If no time zone is specified, UTC is used. You can use a space character instead of the T. Seconds and fractions of a second are optional.
Relative timeframe, back from now. The format is now-NU/A, where N is the amount of time, U is the unit of time, and A is an alignment. The alignment rounds all the smaller values to the nearest zero in the past. For example, now-1y/w is one year back, aligned by a week. You can also specify relative timeframe without an alignment: now-NU. Supported time units for the relative timeframe are:
m: minutes
h: hours
d: days
w: weeks
M: months
y: years
If not set, the relative timeframe of two hours is used (now-2h).

from
to
string
(query)
The end of the requested timeframe.

You can use one of the following formats:

Timestamp in UTC milliseconds.
Human-readable format of 2021-01-25T05:57:01.123+01:00. If no time zone is specified, UTC is used. You can use a space character instead of the T. Seconds and fractions of a second are optional.
Relative timeframe, back from now. The format is now-NU/A, where N is the amount of time, U is the unit of time, and A is an alignment. The alignment rounds all the smaller values to the nearest zero in the past. For example, now-1y/w is one year back, aligned by a week. You can also specify relative timeframe without an alignment: now-NU. Supported time units for the relative timeframe are:
m: minutes
h: hours
d: days
w: weeks
M: months
y: years
If not set, the current timestamp is used.

to
problemSelector
string
(query)
Defines the scope of the query. Only problems matching the specified criteria are included into response.

You can add one or several of the criteria listed below. For each criterion you can specify multiple comma-separated values, unless stated otherwise. If several values are specified, the OR logic applies. All values must be quoted.

Status: status("open") or status("closed"). You can specify only one status.
Severity level: severityLevel("level-1","level-2"). Find the possible values in the description of the severityLevel field of the response.
Impact level: impactLevel("level-11","level-2") Find the possible values in the description of the impactLevel field of the response.
Root cause entity: rootCauseEntity("id-1", "id-2").
Management zone ID: managementZoneIds("mZId-1", "mzId-2").
Management zone name: managementZones("value-1","value-2").
Impacted entities: impactedEntities("id-1", "id-2").
Affected entities: affectedEntities("id-1", "id-2").
Type of affected entities: affectedEntityTypes("value-1","value-2").
Problem ID: problemId("id-1", "id-2").
Alerting profile ID: problemFilterIds("id-1", "id-2").
Alerting profile name (contains, case-insensitive): problemFilterNames("value-1","value-2").
Alerting profile name (exact match, case-insensitive): problemFilterNames.equals("value-1","value-2").
Entity tags: entityTags("[context]key:value","key:value"). Tags in [context]key:value, key:value, and value formats are detected and parsed automatically. If a value-only tag has a colon (:) in it, you must escape the colon with a backslash(\). Otherwise, the tag will be parsed as a key:value tag. All tag values are case-sensitive.
Display ID of the problem: displayId("id-1", "id-2").
Under maintenance: underMaintenance(true|false). Shows (true) or hides (false) all problems created during maintenance mode.
Text search: text("value"). Text search on the following fields: problem title, event titles, displayId and the id of affected and impacted entities. The text search is case insensitive, partial matching and based on a relevance score. Therefore the relevance sort option should be used to get the most relevant problems first. The special characters ~ and " need to be escaped using a ~ (e.g. double quote search text("~"")). The search value is limited to 30 characters.
To set several criteria, separate them with a comma (,). Only results matching all criteria are included in the response.

problemSelector
entitySelector
string
(query)
The entity scope of the query. You must set one of these criteria:

Entity type: type("TYPE")
Dynatrace entity ID: entityId("id"). You can specify several IDs, separated by a comma (entityId("id-1","id-2")). All requested entities must be of the same type.
You can add one or more of the following criteria. Values are case-sensitive and the EQUALS operator is used unless otherwise specified.

Tag: tag("value"). Tags in [context]key:value, key:value, and value formats are detected and parsed automatically. Any colons (:) that are part of the key or value must be escaped with a backslash(\). Otherwise, it will be interpreted as the separator between the key and the value. All tag values are case-sensitive.
Management zone ID: mzId(123)
Management zone name: mzName("value")
Entity name:
entityName.equals: performs a non-casesensitive EQUALS query.
entityName.startsWith: changes the operator to BEGINS WITH.
entityName.in: enables you to provide multiple values. The EQUALS operator applies.
caseSensitive(entityName.equals("value")): takes any entity name criterion as an argument and makes the value case-sensitive.
Health state (HEALTHY,UNHEALTHY): healthState("HEALTHY")
First seen timestamp: firstSeenTms.<operator>(now-3h). Use any timestamp format from the from/to parameters. The following operators are available:
lte: earlier than or at the specified time
lt: earlier than the specified time
gte: later than or at the specified time
gt: later than the specified time
Entity attribute: <attribute>("value1","value2") and <attribute>.exists(). To fetch the list of available attributes, execute the GET entity type request and check the properties field of the response.
Relationships: fromRelationships.<relationshipName>() and toRelationships.<relationshipName>(). This criterion takes an entity selector as an attribute. To fetch the list of available relationships, execute the GET entity type request and check the fromRelationships and toRelationships fields.
Negation: not(<criterion>). Inverts any criterion except for type.
For more information, see Entity selector in Dynatrace Documentation.

To set several criteria, separate them with a comma (,). For example, type("HOST"),healthState("HEALTHY"). Only results matching all criteria are included in the response.

The maximum string length is 2,000 characters.

The maximum number of entities that may be selected is limited to 10000.

entitySelector
sort
string
(query)
Specifies a set of comma-separated (,) fields for sorting in the problem list.

You can sort by the following properties with a sign prefix for the sorting order.

status: problem status (+ open problems first or - closed problems first)
startTime: problem start time (+ old problems first or - new problems first)
relevance: problem relevance (+ least relevant problems first or - most relevant problems first) - can be used only in combination with text search
If no prefix is set, + is used.

You can specify several levels of sorting. For example, +status,-startTime sorts problems by status, open problems first. Within the status, problems are sorted by start time, oldest first.

sort
Responses
Code	Description	Links
200	
Success

Media type

application/json; charset=utf-8
Controls Accept header.
Example Value
Schema
{
  "nextPageKey": "AQAAABQBAAAABQ==",
  "pageSize": 0,
  "problems": [
    {
      "affectedEntities": [
        {
          "entityId": {
            "id": "string",
            "type": "string"
          },
          "name": "string"
        }
      ],
      "displayId": "string",
      "endTime": 0,
      "entityTags": [
        {
          "context": "string",
          "key": "string",
          "stringRepresentation": "string",
          "value": "string"
        }
      ],
      "evidenceDetails": {
        "details": [
          {
            "displayName": "string",
            "entity": {
              "entityId": {
                "id": "string",
                "type": "string"
              },
              "name": "string"
            },
            "groupingEntity": {
              "entityId": {
                "id": "string",
                "type": "string"
              },
              "name": "string"
            },
            "rootCauseRelevant": true,
            "startTime": 0
          }
        ],
        "totalCount": 0
      },
      "impactAnalysis": {
        "impacts": [
          {
            "estimatedAffectedUsers": 0,
            "impactedEntity": {
              "entityId": {
                "id": "string",
                "type": "string"
              },
              "name": "string"
            }
          }
        ]
      },
      "impactLevel": "APPLICATION",
      "impactedEntities": [
        {
          "entityId": {
            "id": "string",
            "type": "string"
          },
          "name": "string"
        }
      ],
      "k8s.cluster.name": [
        "string"
      ],
      "k8s.cluster.uid": [
        "string"
      ],
      "k8s.namespace.name": [
        "string"
      ],
      "linkedProblemInfo": {
        "displayId": "string",
        "problemId": "string"
      },
      "managementZones": [
        {
          "id": "string",
          "name": "string"
        }
      ],
      "problemFilters": [
        {
          "id": "string",
          "name": "string"
        }
      ],
      "problemId": "string",
      "recentComments": {
        "comments": [
          {
            "authorName": "string",
            "content": "string",
            "context": "string",
            "createdAtTimestamp": 0,
            "id": "string"
          }
        ],
        "nextPageKey": "AQAAABQBAAAABQ==",
        "pageSize": 0,
        "totalCount": 0
      },
      "rootCauseEntity": {
        "entityId": {
          "id": "string",
          "type": "string"
        },
        "name": "string"
      },
      "severityLevel": "AVAILABILITY",
      "startTime": 0,
      "status": "CLOSED",
      "title": "string"
    }
  ],
  "totalCount": 0,
  "warnings": [
    "string"
  ]
}
No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}


GET
/problems/{problemId}
Gets the properties of the specified problem


Api-Token:
Required scope: problems.read
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
problemId *
string
(path)
The ID of the required problem.

problemId
fields
string
(query)
A list of additional problem properties you can add to the response.

The following properties are available (all other properties are always included and you can't remove them from the response):

evidenceDetails: The details of the root cause.
impactAnalysis: The impact analysis of the problem on other entities/users.
recentComments: A list of the most recent comments to the problem.
To add properties, specify them as a comma-separated list (for example, evidenceDetails,impactAnalysis).

fields
Responses
Code	Description	Links
200	
Success

Media type

application/json; charset=utf-8
Controls Accept header.
Example Value
Schema
{
  "affectedEntities": [
    {
      "entityId": {
        "id": "string",
        "type": "string"
      },
      "name": "string"
    }
  ],
  "displayId": "string",
  "endTime": 0,
  "entityTags": [
    {
      "context": "string",
      "key": "string",
      "stringRepresentation": "string",
      "value": "string"
    }
  ],
  "evidenceDetails": {
    "details": [
      {
        "displayName": "string",
        "entity": {
          "entityId": {
            "id": "string",
            "type": "string"
          },
          "name": "string"
        },
        "groupingEntity": {
          "entityId": {
            "id": "string",
            "type": "string"
          },
          "name": "string"
        },
        "rootCauseRelevant": true,
        "startTime": 0
      }
    ],
    "totalCount": 0
  },
  "impactAnalysis": {
    "impacts": [
      {
        "estimatedAffectedUsers": 0,
        "impactedEntity": {
          "entityId": {
            "id": "string",
            "type": "string"
          },
          "name": "string"
        }
      }
    ]
  },
  "impactLevel": "APPLICATION",
  "impactedEntities": [
    {
      "entityId": {
        "id": "string",
        "type": "string"
      },
      "name": "string"
    }
  ],
  "k8s.cluster.name": [
    "string"
  ],
  "k8s.cluster.uid": [
    "string"
  ],
  "k8s.namespace.name": [
    "string"
  ],
  "linkedProblemInfo": {
    "displayId": "string",
    "problemId": "string"
  },
  "managementZones": [
    {
      "id": "string",
      "name": "string"
    }
  ],
  "problemFilters": [
    {
      "id": "string",
      "name": "string"
    }
  ],
  "problemId": "string",
  "recentComments": {
    "comments": [
      {
        "authorName": "string",
        "content": "string",
        "context": "string",
        "createdAtTimestamp": 0,
        "id": "string"
      }
    ],
    "nextPageKey": "AQAAABQBAAAABQ==",
    "pageSize": 0,
    "totalCount": 0
  },
  "rootCauseEntity": {
    "entityId": {
      "id": "string",
      "type": "string"
    },
    "name": "string"
  },
  "severityLevel": "AVAILABILITY",
  "startTime": 0,
  "status": "CLOSED",
  "title": "string"
}
No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links


POST
/problems/{problemId}/close
Closes the specified problem and adds a closing comment on it


Api-Token:
Required scope: problems.write
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
problemId *
string
(path)
The ID of the required problem.

problemId
Request body

application/json; charset=utf-8
The JSON body of the request. Contains the closing comment on the problem.

Example Value
Schema
{
  "message": "string"
}
Responses
Code	Description	Links
200	
Success

Media type

application/json; charset=utf-8
Controls Accept header.
Example Value
Schema
{
  "closeTimestamp": 0,
  "closing": true,
  "comment": {
    "authorName": "string",
    "content": "string",
    "context": "string",
    "createdAtTimestamp": 0,
    "id": "string"
  },
  "problemId": "string"
}
No links
204	
The problem is closed already the request hasn't been executed.

No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}


GET
/problems/{problemId}/comments
Gets all comments on the specified problem


Api-Token:
Required scope: problems.read
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
problemId *
string
(path)
The ID of the required problem.

problemId
nextPageKey
string
(query)
The cursor for the next page of results. You can find it in the nextPageKey field of the previous response.

The first page is always returned if you don't specify the nextPageKey query parameter.

When the nextPageKey is set to obtain subsequent pages, you must omit all other query parameters except the optional fields parameter.

nextPageKey
pageSize
integer($int64)
(query)
The amount of comments in a single response payload.

The maximal allowed page size is 500.

If not set, 10 is used.

pageSize
Responses
Code	Description	Links
200	
Success

Media type

application/json; charset=utf-8
Controls Accept header.
Example Value
Schema
{
  "comments": [
    {
      "authorName": "string",
      "content": "string",
      "context": "string",
      "createdAtTimestamp": 0,
      "id": "string"
    }
  ],
  "nextPageKey": "AQAAABQBAAAABQ==",
  "pageSize": 0,
  "totalCount": 0
}
No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}

POST
/problems/{problemId}/comments
Adds a new comment on the specified problem


Api-Token:
Required scope: problems.write
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
problemId *
string
(path)
The ID of the required problem.

problemId
Request body

application/json; charset=utf-8
The JSON body of the request. Contains the comment to be added.

Example Value
Schema
{
  "context": "string",
  "message": "string"
}
Responses
Code	Description	Links
201	
Success. The comment has been added.

No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}


DELETE
/problems/{problemId}/comments/{commentId}
Deletes the specified comment from a problem


Api-Token:
Required scope: problems.write
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
problemId *
string
(path)
The ID of the required problem.

problemId
commentId *
string
(path)
The ID of the required comment.

commentId
Responses
Code	Description	Links
204	
Success. The comment has been deleted.

No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}



GET
/problems/{problemId}/comments/{commentId}
Gets the specified comment on a problem


Api-Token:
Required scope: problems.read
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
problemId *
string
(path)
The ID of the required problem.

problemId
commentId *
string
(path)
The ID of the required comment.

commentId
Responses
Code	Description	Links
200	
Success

Media type

application/json; charset=utf-8
Controls Accept header.
Example Value
Schema
{
  "authorName": "string",
  "content": "string",
  "context": "string",
  "createdAtTimestamp": 0,
  "id": "string"
}
No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}


PUT
/problems/{problemId}/comments/{commentId}
Updates the specified comment on a problem


Api-Token:
Required scope: problems.write
Required permission for personal access tokens: environment:roles:viewer

Parameters
Try it out
Name	Description
problemId *
string
(path)
The ID of the required problem.

problemId
commentId *
string
(path)
The ID of the required comment.

commentId
Request body

application/json; charset=utf-8
The JSON body of the request. Contains the updated comment.

Example Value
Schema
{
  "context": "string",
  "message": "string"
}
Responses
Code	Description	Links
204	
Success. The comment has been updated.

No links
4XX	
Client side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}
No links
5XX	
Server side error.

Media type

application/json
Example Value
Schema
{
  "error": {
    "code": 0,
    "constraintViolations": [
      {
        "location": "string",
        "message": "string",
        "parameterLocation": "HEADER",
        "path": "string"
      }
    ],
    "message": "string"
  }
}


